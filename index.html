<!DOCTYPE html>
<html>
<head>
  <title>Katakana Practice</title>
</head>

<body>
<style>
.btn {
  border-radius: 28px;
  color: #fff;
  text-shadow: 0 0 4px black;
  font-family: Arial;
  font-size: 56px;
  padding: 10px 20px 10px 20px;
  text-decoration: none;
  min-width: 12rem;
  cursor:pointer;
}
</style>
<table border="0" cellpadding="20" style="font-size: 70px; width: 100%;">
<tbody>
  <tr>
    <td>
      Score: <span id="skor">0</span>
    </td>
    <td align="right">
      <span id="hati">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
    </td>
  </tr>
</tbody></table><br />

<center><div id="soal" style="font-size: 70px;"></div></center><br />
<table border="0" cellpadding="20" style="width: 100%;">
<tbody>
  <tr>
    <td align="right" id="opsiA">
    </td>
    <td id="opsiB">
    </td>
  </tr>
  <tr>
    <td align="right" id="opsiC">
    </td>
    <td id="opsiD">
    </td>
  </tr>
</tbody></table><br />

<br />




<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>

<script>

kamusMirip ={
"a": ["o"],
"ba": ["ke","ma","ni","po"],
"bo": ["ge"],
"he": ["ku"],
"ji": ["chi"],
"n": ["re"],
"ni": ["ba","ha"],
"pi": ["hi"],
"po": ["ba","ge","pa"],
"se": ["za"],
"to": ["yo"],
}

</script>


<script>
  //varGlobal

  vokalLatin = "aiueo";
  hiragana = [  ["„Ç¢", "a"],   ["„Ç§", "i"],   ["„Ç¶", "u"],   ["„Ç®", "e"],   ["„Ç™", "o"],   ["„Ç´", "ka"],   ["„Ç≠", "ki"],   ["„ÇØ", "ku"],   ["„Ç±", "ke"],   ["„Ç≥", "ko"],   ["„Çµ", "sa"],   ["„Ç∑", "shi"],   ["„Çπ", "su"],   ["„Çª", "se"],   ["„ÇΩ", "so"],   ["„Çø", "ta"],   ["„ÉÅ", "chi"],   ["„ÉÑ", "tsu"],   ["„ÉÜ", "te"],   ["„Éà", "to"],   ["„Éä", "na"],   ["„Éã", "ni"],   ["„Éå", "nu"],   ["„Éç", "ne"],   ["„Éé", "no"],   ["„Éè", "ha"],   ["„Éí", "hi"],   ["„Éï", "fu"],   ["„Éò", "he"],   ["„Éõ", "ho"],   ["„Éû", "ma"],   ["„Éü", "mi"],   ["„É†", "mu"],   ["„É°", "me"],   ["„É¢", "mo"],   ["„É§", "ya"],   ["„É¶", "yu"],   ["„É®", "yo"],   ["„É©", "ra"],   ["„É™", "ri"],   ["„É´", "ru"],   ["„É¨", "re"],   ["„É≠", "ro"],   ["„ÉØ", "wa"],   ["„É≤", "wo"],   ["„É≥", "n"],   ["„Ç¨", "ga"],   ["„ÇÆ", "gi"],   ["„Ç∞", "gu"],   ["„Ç≤", "ge"],   ["„Ç¥", "go"],   ["„Ç∂", "za"],   ["„Ç∏", "ji"],   ["„Ç∫", "zu"],   ["„Çº", "ze"],   ["„Çæ", "zo"],   ["„ÉÄ", "da"],   ["„ÉÇ", "ji"],   ["„ÉÖ", "dzu"],   ["„Éá", "de"],   ["„Éâ", "do"],   ["„Éê", "ba"],   ["„Éì", "bi"],   ["„Éñ", "bu"],   ["„Éô", "be"],   ["„Éú", "bo"],   ["„Éë", "pa"],   ["„Éî", "pi"],   ["„Éó", "pu"],   ["„Éö", "pe"],   ["„Éù", "po"],  ]; 
  hiragana2 = [  ["„Ç¢", "a"],   ["„Ç§", "i"],   ["„Ç¶", "u"],   ["„Ç®", "e"],   ["„Ç™", "o"],   ["„Ç´", "ka"],   ["„Ç≠", "ki"],   ["„ÇØ", "ku"],   ["„Ç±", "ke"],   ["„Ç≥", "ko"],   ["„Çµ", "sa"],   ["„Ç∑", "shi"],   ["„Çπ", "su"],   ["„Çª", "se"],   ["„ÇΩ", "so"],   ["„Çø", "ta"],   ["„ÉÅ", "chi"],   ["„ÉÑ", "tsu"],   ["„ÉÜ", "te"],   ["„Éà", "to"],   ["„Éä", "na"],   ["„Éã", "ni"],   ["„Éå", "nu"],   ["„Éç", "ne"],   ["„Éé", "no"],   ["„Éè", "ha"],   ["„Éí", "hi"],   ["„Éï", "fu"],   ["„Éò", "he"],   ["„Éõ", "ho"],   ["„Éû", "ma"],   ["„Éü", "mi"],   ["„É†", "mu"],   ["„É°", "me"],   ["„É¢", "mo"],   ["„É§", "ya"],   ["„É¶", "yu"],   ["„É®", "yo"],   ["„É©", "ra"],   ["„É™", "ri"],   ["„É´", "ru"],   ["„É¨", "re"],   ["„É≠", "ro"],   ["„ÉØ", "wa"],   ["„É≤", "wo"],   ["„É≥", "n"],   ["„Ç¨", "ga"],   ["„ÇÆ", "gi"],   ["„Ç∞", "gu"],   ["„Ç≤", "ge"],   ["„Ç¥", "go"],   ["„Ç∂", "za"],   ["„Ç∏", "ji (zi)"],   ["„Ç∫", "zu"],   ["„Çº", "ze"],   ["„Çæ", "zo"],   ["„ÉÄ", "da"],   ["„ÉÇ", "ji (di)"],   ["„ÉÖ", "dzu"],   ["„Éá", "de"],   ["„Éâ", "do"],   ["„Éê", "ba"],   ["„Éì", "bi"],   ["„Éñ", "bu"],   ["„Éô", "be"],   ["„Éú", "bo"],   ["„Éë", "pa"],   ["„Éî", "pi"],   ["„Éó", "pu"],   ["„Éö", "pe"],   ["„Éù", "po"],  ]; 
  

  let koleksiSoalDimainkan = [];
  skor = 0;
  banyakHati = 3;

  
</script>

<script>
//tambah Yoon
adaYaYuYo = [false,false,false]
cekerYoon = []
function tambahYoon(soal){

   if (soal[1]=='ya'){adaYaYuYo[0]=true}
   if (soal[1]=='yu'){adaYaYuYo[1]=true}
   if (soal[1]=='yo'){adaYaYuYo[2]=true}
   if (!adaYaYuYo.includes(true)){return}
   if ((soal[1][soal[1].length-1] != 'i')||(soal[1]=='i')){return}
 
   var hasil = [];
   hasil.push(soal[0])
   if (soal[0] == '„Ç≠'){hasil.push('ky')}
   if (soal[0] == '„Ç∑'){hasil.push('sh')}
   if (soal[0] == '„ÉÅ'){hasil.push('ch')}
   if (soal[0] == '„Éã'){hasil.push('ny')}
   if (soal[0] == '„Éí'){hasil.push('hy')}
   if (soal[0] == '„Éü'){hasil.push('my')}
   if (soal[0] == '„É™'){hasil.push('ry')}
   if (soal[0] == '„ÇÆ'){hasil.push('gy')}
   if (soal[0] == '„Ç∏'){hasil.push('j')}
   if (soal[0] == '„Éì'){hasil.push('by')}
   if (soal[0] == '„Éî'){hasil.push('py')}
   if (hasil.length < 2){return}
   
   let yauoInd = Math.floor(Math.random()*3);
   while (adaYaYuYo[yauoInd] == false){yauoInd = (yauoInd+1)%3;}
   
   if (yauoInd==0){hasil[0] += '„É£'; hasil[1] += 'a'}
   if (yauoInd==1){hasil[0] += '„É•'; hasil[1] += 'u'}
   if (yauoInd==2){hasil[0] += '„Éß'; hasil[1] += 'o'}
  

   if (soal.length < 3){
     if (cekerYoon.includes(hasil[1])){return};
     cekerYoon.push(hasil[1]);
     hiragana.push(hasil);
   }
   else{
     if (cekerYoon.includes(hasil[1]+'2')){return};
     cekerYoon.push(hasil[1]+'2');
     hiragana2.push(hasil);
   }

   
}
</script>

<script>
  //Fungsi-fungsi
//fungsi warna random------------------------------------------------------------------------------
  function getRandomColor() {
    var lettersz = '0123456789abcdef';
    var colorz = '#';
    for (var i = 0; i < 6; i++) {
      colorz += lettersz[Math.floor(Math.random() * 16)];
    }
    return colorz;
  }
//------------------------------------------------------------------------------------------------
//fungsi string random---------------------------------------------------------------------------------------------------------------------
  function randstring(length) {
    var result           = '';
    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    var charactersLength = characters.length;
    for ( var i = 0; i < length; i++ ) {
      result += characters.charAt(Math.floor(Math.random() *charactersLength));
   }
   return result;
  }
//------------------------------------------------------------------------------------------------
</script>

<script>
  //updateSkordanHati
  function updateskor(){
    document.getElementById('skor').innerHTML = skor;
  }
  function updateHati(){
    document.getElementById('hati').innerHTML = '';
    for (var i = 0; i < banyakHati; i++){
      document.getElementById('hati').innerHTML += '‚ù§Ô∏è';
    }
  }

  
</script>

<script>
  function gameOver(){
    var daftarOpsi = ['A','B','C','D'];
    document.getElementById('soal').innerHTML = 'Game Over';
    for (var i = 0; i < daftarOpsi.length;i++){
      var pilihanOpsi = daftarOpsi[i];
      document.getElementById('opsi'+pilihanOpsi).innerHTML =  '';
      if (pilihanOpsi == 'A'){
        document.getElementById('opsi'+pilihanOpsi).innerHTML =  '<button class="btn" type="button" id = "opsiTom'+pilihanOpsi+'" onmouseover="document.getElementById(\'opsiTom'+pilihanOpsi+'\').style.backgroundColor=\''+getRandomColor()+'\';" onmouseout="document.getElementById(\'opsiTom'+pilihanOpsi+'\').style.backgroundColor=\''+getRandomColor()+'\';" style="background-color: '+getRandomColor()+'" onclick="buatSoal();skor=0;banyakHati=3;updateskor();updateHati();">Play Again</button>';
      }
    }
  }
</script>

<script>
  //jawaban
  neutMoji = [
"üòâ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","ü§£","üòÇ","üôÇ","üôÉ","üòâ","üòä","üòá","üòò","üòó","‚ò∫","üòö","üòô","üòô","üòõ","üòú","ü§™","üòù","ü§ó","ü§≠","üòè","üòå","ü§ì","üßê","üòØ","üò≤","üò≥","üò±","üò∫","üò∏","üòπ","üòº","üòΩ","üôÄ","üôà","üôâ","üôä","üßí","üë¶","üßë","üëß","üë∂","üë±","üë®","üßî","üë®‚Äçü¶∞","üë®‚Äçü¶±","üë®‚Äçü¶≥","üë®‚Äçü¶≤","üë©","üë©‚Äçü¶∞","üë©‚Äçü¶±","üë©‚Äçü¶≥","üë©‚Äçü¶≤","üë±‚Äç‚ôÄÔ∏è","üë±‚Äç‚ôÇÔ∏è","üßì","üë¥","üëµ","üôé","üôé‚Äç‚ôÇÔ∏è","üôé‚Äç‚ôÄÔ∏è","·ï¶( ¬¥ÔΩ• , ÔΩ•` )·ï§","( ' ·ó£ ' )","‡ºº ‚óé ·ó£ ‚óé ‡ºΩ","Ôºº [ ¬¨ Áöø ¬¨ ] ‡∏á","(„Å§ - ·¥ó - )„Å§","„ÉΩ ( ‚óé ‚ñø‚ñø‚ñø‚ñø ‚óé ) /","„ÉΩ ‡ºº ·óí //// ·óï ‡ºΩ ~","‡ºº ‚óï œñ ‚óï ‡ºΩ","d( Àò ‰∫∫ Àò )b","( ‚óé , ‚óé )","‡ºº > Áöø < ‡ºΩ","‚äô ‚ñ° ‚òâ","·ï¶( ¬¥ÔΩ• „ÖÇ ÔΩ•` )·ï§","‚îó ‡ºº * ‰∫∫ * ‡ºΩ ‡∏á","(„Å§ ‚Ä¢ÃÅ , ‚Ä¢ÃÄ )„Å§","o ¬≥ o","(‚ïØ ‡¥∞ ·ó£ ‡¥∞ )‚ïØ","> œâ <","c [ Ôø£ ⁄° Ôø£ ] ‚îõ","‚îå ‡ºº ¬¨ „ÖÇ ¬¨ ‡ºΩ ‰πÇ ‡ºº ‡≤• __ ‡≤• ‡ºΩ Ôæâ","c ‡ºº ‚ùõ ‚ñ° ‚ùõ ‡ºΩ „Çû","d( Õí œâ Õí )b","Îàà ÷ä Îàà"
];

  posMoji = [
"ü•∞","üòç","ü§©","ü§Ø","ü§†","ü•≥","üòé","üòª","üíò","üíù","üíñ","üíó","üíì","üíû","üíï","üíü","‚ù£","‚ù§","üß°","üíõ","üíö","üíô","üíú","ü§é","üñ§","ü§ç","üíã","üíØ","üëå","‚úå","ü§û","ü§ü","ü§ò","üëç","‚úä","üëä","ü§õ","ü§ú","üëè","üí™","üôÜ","üôÜ‚Äç‚ôÇÔ∏è","üôÜ‚Äç‚ôÄÔ∏è","üçá",
];

  negMoji = [
"ü§î","ü§®","üòê","üòë","üò∂","üòí","üôÑ","üò¨","üòî","üòµ","üòï","üòü","üôÅ","‚òπ","ü•∫","üò¶","üòß","üò®","üò∞","üò•","üò¢","üò≠","üòñ","üò£","üòû","üòì","üò©","üò´","ü•±","üò§","üò°","üò†","üòà","üëø","üòø","üòæ","üíî","üëé","üôç","üôç‚Äç‚ôÇÔ∏è","üôç‚Äç‚ôÄÔ∏è","üôÖ","üôÖ‚Äç‚ôÇÔ∏è","üôÖ‚Äç‚ôÄÔ∏è","ü§¶","ü§¶‚Äç‚ôÇÔ∏è","ü§¶‚Äç‚ôÄÔ∏è","ü§∑","ü§∑‚Äç‚ôÇÔ∏è","ü§∑‚Äç‚ôÄÔ∏è","(„Å• ¬¥ÔΩ• ‚ñÇ ÔΩ•` )„Å•","( ·óí ‚Ä∏ ·óï )","(„Å• ‚åê‚ñ† „Öø ‚ñ† )„Å•","‡ºº ‚äô Áõä ‚òâ ‡ºΩ","‡ºº > Áöø < ‡ºΩ","„ÉΩ ‡ºº ‚Ä¢ÃÄ  ñ ‚Ä¢ÃÅ ‡ºΩ 7","‚îó [ ‚ï•  ñ ‚ï• ] ~","d( ¬¨ __ ¬¨ )b","‚îå ‡ºº * ‚Ä∏ * ‡ºΩ „Çû","‡ºº ‚Ä¢ÃÅ . ‚Ä¢ÃÄ ‡ºΩ ","·ï¶( Îàà __ Îàà )·ï§"];

  posMoji = posMoji.concat(neutMoji);
  negMoji = negMoji.concat(neutMoji);

  jawabanBenar = '';
  opsiA = 'non';
  opsiB = 'non';
  opsiC = 'non';
  opsiD = 'non';
  function jawab(jawaban){
    var daftarOpsi = ['A','B','C','D'];
    eval('jawaban = opsi'+jawaban);
    if (jawaban == jawabanBenar){
        skor += Math.ceil(Math.random()*koleksiSoalDimainkan.length);
      updateskor();
      document.getElementById('soal').innerHTML += `<br>${posMoji[Math.floor(Math.random()*posMoji.length)]} Correct! It's "${jawabanBenar}"`;
      tambahYoon(soalTerpilih)
      if (Math.random() < 1/2){
        if (Math.random() < 1/2){
            koleksiSoalDimainkan.push(hiragana[Math.floor(Math.random()*hiragana.length)]);
        }
        else{
            koleksiSoalDimainkan.push(hiragana2[Math.floor(Math.random()*hiragana2.length)]);
            koleksiSoalDimainkan[koleksiSoalDimainkan.length-1].push('');
        }
        if (Math.random() < 1/2){
            koleksiSoalDimainkan.push(hiragana[Math.floor(Math.random()*hiragana.length)]);
        }
        else{
            koleksiSoalDimainkan.push(hiragana2[Math.floor(Math.random()*hiragana2.length)]);
            koleksiSoalDimainkan[koleksiSoalDimainkan.length-1].push('');
        }
      }
    }
      else {
        document.getElementById('soal').innerHTML += `<br>${negMoji[Math.floor(Math.random()*negMoji.length)]} Wrong! It's "${jawabanBenar}"`;
        koleksiSoalDimainkan.push(soalTerpilih)
        banyakHati -=1;updateHati();
      }
    for (var i = 0; i < daftarOpsi.length;i++){
      var pilihanOpsi = daftarOpsi[i];
      document.getElementById('opsi'+pilihanOpsi).innerHTML =  '';
      if (pilihanOpsi == 'A'){
        document.getElementById('opsi'+pilihanOpsi).innerHTML =  '<button class="btn" type="button" id = "opsiTom'+pilihanOpsi+'" onmouseover="document.getElementById(\'opsiTom'+pilihanOpsi+'\').style.backgroundColor=\''+getRandomColor()+'\';" onmouseout="document.getElementById(\'opsiTom'+pilihanOpsi+'\').style.backgroundColor=\''+getRandomColor()+'\';" style="background-color: '+getRandomColor()+'" onclick="buatSoal();">Next</button>';;
      }
    }
    if (banyakHati==0){gameOver();}
  }
</script>


<script>
  //buatSoal
  function buatSoal(){
    if (koleksiSoalDimainkan.length < 1){mulai();return}
    var daftarOpsi = ['A','B','C','D'];
    soalTerpilih = koleksiSoalDimainkan[Math.floor(Math.random()*koleksiSoalDimainkan.length)];
      
      if (soalTerpilih.length < 3){
      soal = soalTerpilih[0];
      jawabanBenar = soalTerpilih[1];
      opsiA = '' + hiragana[Math.floor(Math.random()*hiragana.length)][1];
      opsiB = '' + hiragana[Math.floor(Math.random()*hiragana.length)][1];
      opsiC = '' + hiragana[Math.floor(Math.random()*hiragana.length)][1];
      opsiD = '' + hiragana[Math.floor(Math.random()*hiragana.length)][1];
      if ((skor > 99)&&(jawabanBenar != 'n')){
         if (Math.random() < 1/2){if (Math.random() < 1/2){if (vokalLatin.includes(opsiA[opsiA.length-1])){opsiA=opsiA.substring(0,opsiA.length-1)+jawabanBenar[jawabanBenar.length-1]}} else {if (jawabanBenar.length>1){opsiA = jawabanBenar.substring(0,jawabanBenar.length-1) + vokalLatin[Math.floor(vokalLatin.length*Math.random())]}}}
         if (Math.random() < 1/2){if (Math.random() < 1/2){if (vokalLatin.includes(opsiB[opsiB.length-1])){opsiB=opsiB.substring(0,opsiB.length-1)+jawabanBenar[jawabanBenar.length-1]}} else {if (jawabanBenar.length>1){opsiB = jawabanBenar.substring(0,jawabanBenar.length-1) + vokalLatin[Math.floor(vokalLatin.length*Math.random())]}}}
         if (Math.random() < 1/2){if (Math.random() < 1/2){if (vokalLatin.includes(opsiC[opsiC.length-1])){opsiC=opsiC.substring(0,opsiC.length-1)+jawabanBenar[jawabanBenar.length-1]}} else {if (jawabanBenar.length>1){opsiC = jawabanBenar.substring(0,jawabanBenar.length-1) + vokalLatin[Math.floor(vokalLatin.length*Math.random())]}}}
         if (Math.random() < 1/2){if (Math.random() < 1/2){if (vokalLatin.includes(opsiD[opsiD.length-1])){opsiD=opsiD.substring(0,opsiD.length-1)+jawabanBenar[jawabanBenar.length-1]}} else {if (jawabanBenar.length>1){opsiD = jawabanBenar.substring(0,jawabanBenar.length-1) + vokalLatin[Math.floor(vokalLatin.length*Math.random())]}}}

      }
      if (skor > 200){
         if ((Math.random() < 1/2)&&(kamusMirip[jawabanBenar] != undefined)){daftarOpsiGanti = kamusMirip[jawabanBenar]; opsiA = '' + daftarOpsiGanti[Math.floor(daftarOpsiGanti.length*Math.random())];}
         if ((Math.random() < 1/2)&&(kamusMirip[jawabanBenar] != undefined)){daftarOpsiGanti = kamusMirip[jawabanBenar]; opsiB = '' + daftarOpsiGanti[Math.floor(daftarOpsiGanti.length*Math.random())];}
         if ((Math.random() < 1/2)&&(kamusMirip[jawabanBenar] != undefined)){daftarOpsiGanti = kamusMirip[jawabanBenar]; opsiC = '' + daftarOpsiGanti[Math.floor(daftarOpsiGanti.length*Math.random())];}
         if ((Math.random() < 1/2)&&(kamusMirip[jawabanBenar] != undefined)){daftarOpsiGanti = kamusMirip[jawabanBenar]; opsiD = '' + daftarOpsiGanti[Math.floor(daftarOpsiGanti.length*Math.random())];}
      }
      }
      else{
      if (soalTerpilih.length > 3){soalTerpilih.splice(3);}
      soal = soalTerpilih[1];
      jawabanBenar = soalTerpilih[0];
      opsiA = hiragana2[Math.floor(Math.random()*hiragana2.length)][0];
      opsiB = hiragana2[Math.floor(Math.random()*hiragana2.length)][0];
      opsiC = hiragana2[Math.floor(Math.random()*hiragana2.length)][0];
      opsiD = hiragana2[Math.floor(Math.random()*hiragana2.length)][0];
      }
      eval('opsi'+daftarOpsi[Math.floor(Math.random()*daftarOpsi.length)]+' = jawabanBenar;');
      opsi = [opsiA, opsiB, opsiC, opsiD]
      document.getElementById('soal').innerHTML = soal;
      for (var i = 0; i < daftarOpsi.length;i++){
        var pilihanOpsi = daftarOpsi[i];
        document.getElementById('opsi'+pilihanOpsi).innerHTML =  '<button class="btn" type="button" id = "opsiTom'+pilihanOpsi+'" onmouseover="document.getElementById(\'opsiTom'+pilihanOpsi+'\').style.backgroundColor=\''+getRandomColor()+'\';" onmouseout="document.getElementById(\'opsiTom'+pilihanOpsi+'\').style.backgroundColor=\''+getRandomColor()+'\';" style="background-color: '+getRandomColor()+'" onclick="jawab(\''+pilihanOpsi+'\')">'+ opsi[i] +'</button>';
      }

  
  }
</script>



<script>
  //Mulai
  function mulai(){
    if (Math.random() < 1/2){
    koleksiSoalDimainkan.push(hiragana[Math.floor(Math.random()*hiragana.length)]);
    }
    else{
    koleksiSoalDimainkan.push(hiragana2[Math.floor(Math.random()*hiragana2.length)]);
    koleksiSoalDimainkan[koleksiSoalDimainkan.length-1].push('');
    }
    if (Math.random() < 1/2){
    koleksiSoalDimainkan.push(hiragana[Math.floor(Math.random()*hiragana.length)]);
    }
    else{
    koleksiSoalDimainkan.push(hiragana2[Math.floor(Math.random()*hiragana2.length)]);
    koleksiSoalDimainkan[koleksiSoalDimainkan.length-1].push('');
    }
    buatSoal();
  }
</script>

<script>
  //loading
  mulai(); 
</script>
</body>
</html>